<app-navbar></app-navbar>
<div class="container" *ngIf="student">
    <div class="container  ">
        <p class="text-center">{{student.firstName}} {{student.lastName}}</p>
        <div class="container"  *ngIf="student.is_enrolled">
            <p class="text-center">Actualmente inscrito:</p>
            <p class="text-center" *ngFor="let session of getEnrolledSessions()">{{session.dayOfWeek}} {{session.startTime}} {{session.endTime}}</p>
        </div>
    </div>
    <div class="container mb-3">
        <select class="form-select" aria-label="Default select example" (change)="setSessionsPerWeek($event)">
            <option value="1" selected>Una sesion</option>
            <option value="2" >Dos sesiones</option>
            <option value="3">Tres sesiones</option>
        </select>
        <input type="date" [(ngModel)]="date">
    </div>
    <div class="container">
        <div class="input-group" >
            <select class="form-select"  [(ngModel)]="selectedDays[0]" (change)="resetDay(0)">
                <option value="{{i}}" *ngFor="let day of daysOfWeek; let i = index">{{day}}</option>
            </select>
            <select class="form-select" (change)="selectSession($event,0)">
                <option  selected></option>
                <option  value="{{s.id}}" *ngFor="let s of getSessionByDay(selectedDays[0])">{{s.startTime}}</option>
            </select>
        </div>
        <div class="input-group" *ngIf="weeklySessionCount>1" >
            <select class="form-select" [(ngModel)]="selectedDays[1]" (change)="resetDay(1)">
                <option value="{{i}}" *ngFor="let day of daysOfWeek; let i = index">{{day}}</option>
            </select>
            <select class="form-select" (change)="selectSession($event,1)">
                <option  selected></option>
                <option  value="{{s.id}}" *ngFor="let s of getSessionByDay(selectedDays[1])">{{s.startTime}}</option>
            </select>
        </div>
        <div class="input-group" *ngIf="weeklySessionCount>2" >
            <select class="form-select"  [(ngModel)]="selectedDays[2]" (change)="resetDay(2)">
                <option value="{{i}}" *ngFor="let day of daysOfWeek; let i = index">{{day}}</option>
            </select>
            <select class="form-select" (change)="selectSession($event,2)">
                <option  selected></option>
                <option  value="{{s.id}}" *ngFor="let s of getSessionByDay(selectedDays[2])">{{s.startTime}}</option>
            </select>
        </div>
        <div class="container">
            <button type="button" class="btn btn-primary" (click)="enrollStudent()">Inscribir</button>
        </div>
    </div>
</div>
